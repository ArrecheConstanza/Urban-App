<!doctype html>
<html ng-app="BasicChat">
<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<link href="../css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/chatear.css">

    <title>URBAN</title>
	
    <script src="../js/modulos/bower_components/angular/angular.js"></script>
    <script src="../js/modulos/bower_components/angular-chat/angular-chat.js"></script>
    <script src="../js/controllers/controller-chat.js"></script>
	
	<!-- script para upload de imagenes -->
	<script>
	
	FileAPI = {
        //only one of jsPath or jsUrl.
        jsPath: '../js/FileAPI.min.js/',
        //jsUrl: 'mgd-studio.com.ar/phps/js/FileAPI.min.js',

        //only one of staticPath or flashUrl.
        staticPath: '../js/FileAPI.flash.swf/',
        //flashUrl: 'mgd-studio.com.ar/phps/js/FileAPI.flash.swf',

        //forceLoad: true, html5: false //to debug flash in HTML5 browsers
        //noContentTimeout: 10000 (see #528)
    }
	</script>
	
	<!-- angular-upload   -->
	<script src="../js/modulos/ng-file-upload-shim.js"></script> <!--no html5 support -->
	<script src="../js/modulos/ng-file-upload.js"></script>
	
</head>
<body>

    <div class="chat-container" ng-controller="BasicController as chat">

		<!--header-->
        <div class="chat-messages">
            <div class="chat-header">
				<img src="../img/icons/png/volver_chat.png" alt="volver" ng-click="volver_chats()"/>
				<img src="../img/icons/png/ofertas.png" alt="imagen_grupo" class="angularjs-chat-logo"/>
                <h1>{{ titulo_chat }}</h1>
					<input type="file" ngf-select ng-model="picFile" name="file" accept="image/*" ngf-max-size="2MB" class='upload-file' >
					<div class="form-group" >
						<i ng-show="myForm.file.$error.maxSize">Archivo muy pesado {picFile.size / 1000000|number:1}}MB: max 2M</i>
						<div class="overlay" ng-hide="myForm.file.$valid">
							<div>
								<img ng-hide="myForm.file.$valid" ngf-src="picFile" id="upload_chat"> 
								<button ng-click="picFile = null" ng-show="picFile">Quitar</button>
								<button ng-show="myForm.file.$valid" type="button" class="btn-primary" ng-click="uploadPic(picFile)">Enviar</button>
			 
								<span ng-show="picFile.result">Upload Exitoso</span>
								<span class="err" ng-show="errorMsg">{{errorMsg}}</span>
							</div>
						</div>
					</div>
				<!--<form name="chat_img">
				
				CLASE:
				http://localhost:8080/mas/0mas/backup%20de%20wamp/mas/Tecnologia_de_las_Comunicaciones_III/Clase%2014/Clase%2014/angular_base/
				
				
				
					<!--<input  type='file' ngf-select ng-model='FILE' name='file' accept='image/*' ngf-max-size='2MB' id='foto'><!-- class='upload-file' 
					<img ng-show='chat_img.FILE.$valid' ngf-src='FILE' class='thumb'>
					</form>
					<!--<input type="file" ngf-select ng-model="imagen" name="imagen" accept="image/*" ngf-max-size="2MB">
						<img ng-show="myForm.imagen.$valid" ngf-src="imagen" class="thumb"> 
						<button ng-click="imagen = null" ng-show="imagen">Quitar</button>-->
            </div>
			<div>
		<!--comentarios chats-->
				<div ng-repeat="message in chat.messages" class="chat-body">
					<div class="sent-message-{{ message.self }}">
						<span class="username">{{ nombre_usuario }}:</span>
						{{ message.data }}
					</div>
					<div class="clear"></div>
				</div>
            </div>
        </div>

		<!--comentar-->
        <form ng-submit="chat.send()" class="chat-input">
            <input type="text" ng-model="chat.textbox" autofocus>
            <input type="submit" class="send-icon" value=" ">
            <input type="submit" value=" "
                class="sent-indicator {{ chat.status }}">
        </form>

    </div>

</body>
</html>